var screenWidth = $(window).width();

function getUrlParams(dParam) 
{
    var dPageURL = window.location.search.substring(1),
        dURLVariables = dPageURL.split("&"),
        dParameterName,
        i;
    for (i = 0; i < dURLVariables.length; i++) {
        dParameterName = dURLVariables[i].split("=");
        if (dParameterName[0] === dParam) {
            return dParameterName[1] === undefined ? true : decodeURIComponent(dParameterName[1]);
        }
    }
}

jQuery(window).on("load", function () 
{
   
    $("#preloader").fadeOut(500);
    $("#main-wrapper").addClass("show");
    $("select").selectpicker();
});

(function ($) 
{
    "use strict";
    $("#menu").metisMenu();
    $("#checkAll").change(function () {
        $("td input:checkbox").prop("checked", $(this).prop("checked"));
    });
    $(".nav-control").on("click", function () {
        $("#main-wrapper").toggleClass("menu-toggle");
        $(".hamburger").toggleClass("is-active");
    });
    for (
        var nk = window.location,
            o = $("ul#menu a")
                .filter(function () {
                    return this.href == nk;
                })
                .addClass("mm-active")
                .parent()
                .addClass("mm-active");
        ;

    ) {
        if (!o.is("li")) break;
        o = o.parent().addClass("mm-show").parent().addClass("mm-active");
    }
    $("ul#menu>li").on("click", function () {
        const sidebarStyle = $("body").attr("data-sidebar-style");
        if (sidebarStyle === "mini") {
            console.log($(this).find("ul"));
            $(this).find("ul").stop();
        }
    });
    var win_h = window.outerHeight;
    var win_h = window.outerHeight;
    if (win_h > 0 ? win_h : screen.height) {
        $(".content-body").css("min-height", win_h + 60 + "px");
    }
    $('a[data-action="collapse"]').on("click", function (i) {
        i.preventDefault(), $(this).closest(".card").find('[data-action="collapse"] i').toggleClass("mdi-arrow-down mdi-arrow-up"), $(this).closest(".card").children(".card-body").collapse("toggle");
    });
    $('a[data-action="expand"]').on("click", function (i) {
        i.preventDefault(), $(this).closest(".card").find('[data-action="expand"] i').toggleClass("icon-size-actual icon-size-fullscreen"), $(this).closest(".card").toggleClass("card-fullscreen");
    });
    $('[data-action="close"]').on("click", function () {
        $(this).closest(".card").removeClass().slideUp("fast");
    });
    $('[data-action="reload"]').on("click", function () {
        var e = $(this);
        e.parents(".card").addClass("card-load"),
            e.parents(".card").append('<div class="card-loader"><i class=" ti-reload rotate-refresh"></div>'),
            setTimeout(function () {
                e.parents(".card").children(".card-loader").remove(), e.parents(".card").removeClass("card-load");
            }, 2000);
    });
    const headerHight = $(".header").innerHeight();
    $(window).scroll(function () {
        if ($("body").attr("data-layout") === "horizontal" && $("body").attr("data-header-position") === "static" && $("body").attr("data-sidebar-position") === "fixed")
            $(this.window).scrollTop() >= headerHight ? $(".deznav").addClass("fixed") : $(".deznav").removeClass("fixed");
    });
    jQuery(".dz-scroll").each(function () {
        var scroolWidgetId = jQuery(this).attr("id");
        const ps = new PerfectScrollbar("#" + scroolWidgetId, { wheelSpeed: 2, wheelPropagation: true, minScrollbarLength: 20 });
    });
    jQuery(".metismenu > .mm-active ").each(function () {
        if (!jQuery(this).children("ul").length > 0) {
            jQuery(this).addClass("active-no-child");
        }
    });
    if (screenWidth <= 991) {
        jQuery(".menu-tabs .nav-link").on("click", function () {
            if (jQuery(this).hasClass("open")) {
                jQuery(this).removeClass("open");
                jQuery(".fixed-content-box").removeClass("active");
                jQuery(".hamburger").show();
            } else {
                jQuery(".menu-tabs .nav-link").removeClass("open");
                jQuery(this).addClass("open");
                jQuery(".fixed-content-box").addClass("active");
                jQuery(".hamburger").hide();
            }
        });
        jQuery(".close-fixed-content").on("click", function () {
            jQuery(".fixed-content-box").removeClass("active");
            jQuery(".hamburger").removeClass("is-active");
            jQuery("#main-wrapper").removeClass("menu-toggle");
            jQuery(".hamburger").show();
        });
    }
    jQuery(".bell-link").on("click", function () {
        jQuery(".chatbox").addClass("active");
    });
    jQuery(".chatbox-close").on("click", function () {
        jQuery(".chatbox").removeClass("active");
    });
    const qs = new PerfectScrollbar(".deznav-scroll");
    $(".btn-number").on("click", function (e) {
        e.preventDefault();
        fieldName = $(this).attr("data-field");
        type = $(this).attr("data-type");
        var input = $("input[name='" + fieldName + "']");
        var currentVal = parseInt(input.val());
        if (!isNaN(currentVal)) {
            if (type == "minus") input.val(currentVal - 1);
            else if (type == "plus") input.val(currentVal + 1);
        } else {
            input.val(0);
        }
    });
    jQuery(".dz-chat-user-box .dz-chat-user").on("click", function () {
        jQuery(".dz-chat-user-box").addClass("d-none");
        jQuery(".dz-chat-history-box").removeClass("d-none");
    });
    jQuery(".dz-chat-history-back").on("click", function () {
        jQuery(".dz-chat-user-box").removeClass("d-none");
        jQuery(".dz-chat-history-box").addClass("d-none");
    });
    jQuery(".dz-fullscreen").on("click", function () {
        jQuery(".dz-fullscreen").toggleClass("active");
    });
    jQuery(".dz-fullscreen").on("click", function (e) {
        if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            }
        } else {
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            } else if (document.documentElement.webkitRequestFullscreen) {
                document.documentElement.webkitRequestFullscreen();
            } else if (document.documentElement.mozRequestFullScreen) {
                document.documentElement.mozRequestFullScreen();
            } else if (document.documentElement.msRequestFullscreen) {
                document.documentElement.msRequestFullscreen();
            }
        }
    });
    if (jQuery("#example-5").length > 0) {
        var table = $("#example-5").DataTable({ searching: false, paging: true, select: false, lengthChange: false });
    }
    if (jQuery("#example").length > 0) {
        $("#example tbody").on("click", "tr", function () {
            var data = table.row(this).data();
        });
    }
    $(function () {
        $('[data-toggle="popover"]').popover();
    });
})(jQuery);



(function ($) 
{
    var direction = getUrlParams("dir");
    if (direction != "rtl") {
        direction = "ltr";
    }
    var dezSettingsOptions = {
        typography: "poppins",
        version: "light",
        layout: "Vertical",
        headerBg: "color_1",
        navheaderBg: "color_3",
        sidebarBg: "color_3",
        sidebarStyle: "full",
        sidebarPosition: "fixed",
        headerPosition: "fixed",
        containerLayout: "full",
        direction: direction,
    };
    new dezSettings(dezSettingsOptions);
    jQuery(window).on("resize", function () {
        new dezSettings(dezSettingsOptions);
    });
})(jQuery);

// -----------Customized Js start-----------
$(function () 
{                
    $("#logo").validationEngine();
    $("#banner").validationEngine();
    $("#client").validationEngine();
    $("#blogs").validationEngine();
    $("#service").validationEngine();
    $("#aboutus").validationEngine();
    $("#fot_contact").validationEngine();

    
});

$(document).ready(function()
{
    /*Card slider start*/
    $(".card-slider").slick({
      dots: false,
      infinite: true,
      speed: 300,
      autoplay:true,
      autoplaySpeed: 1000,
      slidesToShow: 4,
      slidesToScroll: 1,
      adaptiveHeight: true,
      arrows: false,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
            infinite: true,
            dots: true
          }
        },
        {
          breakpoint: 600,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            dots: true,
          }
        }
      ]
    });
    /*Card slider end*/

    // -------------material Date picker js start-------------
        (function ($) {
            "use strict";
            $("#mdate").bootstrapMaterialDatePicker({ weekStart: 0, time: false });
            $("#timepicker").bootstrapMaterialDatePicker({ format: "HH:mm", time: true, date: false });
            $("#date-format").bootstrapMaterialDatePicker({ format: "dddd DD MMMM YYYY - HH:mm" });
            $("#min-date").bootstrapMaterialDatePicker({ format: "DD/MM/YYYY HH:mm", minDate: new Date() });
        })(jQuery);
    // material Date picker js end

    // ----------------Color picker js start----------------
        (function ($) {
            "use strict";
            $(".as_colorpicker").asColorPicker();
            $(".complex-colorpicker").asColorPicker({ mode: "complex" });
            $(".gradient-colorpicker").asColorPicker({ mode: "gradient" });
        })(jQuery);
    // Color picker js end

    // ---------------Date range picker js start---------------
        (function ($) {
            "use strict";
            $(".input-daterange-datepicker").daterangepicker({ buttonClasses: ["btn", "btn-sm"], applyClass: "btn-danger", cancelClass: "btn-inverse" });
            $(".input-daterange-timepicker").daterangepicker({
                timePicker: true,
                format: "MM/DD/YYYY h:mm A",
                timePickerIncrement: 30,
                timePicker12Hour: true,
                timePickerSeconds: false,
                buttonClasses: ["btn", "btn-sm"],
                applyClass: "btn-danger",
                cancelClass: "btn-inverse",
            });
            $(".input-limit-datepicker").daterangepicker({ format: "MM/DD/YYYY", minDate: "06/01/2015", maxDate: "06/30/2015", buttonClasses: ["btn", "btn-sm"], applyClass: "btn-danger", cancelClass: "btn-inverse", dateLimit: { days: 6 } });
        })(jQuery);
    // Date range picker js end

    // -----------Js for Sweet alert start-----------
        $(".sweet-wrong").on('click', function(event){
            sweetAlert("Oops...", "Something went wrong !!", "error");
        });
        $(".sweet-message").on('click', function(event){
            swal("Hey, Here's a message !!");
        });
        $(".sweet-text").on('click', function(event){
            swal("Hey, Here's a message !!", "It's pretty, isn't it?");
        });
        $(".sweet-success").on('click', function(event){
            swal("Hey, Good job !!", "You clicked the button !!", "success");
        });
        $(".sweet-confirm").on('click', function(event){
            swal(
                {
                    title: "Are you sure to delete ?",
                    text: "You will not be able to recover this imaginary file !!",
                    type: "warning",
                    showCancelButton: !0,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, delete it !!",
                    closeOnConfirm: !1,
                },
                function () {
                    swal("Deleted !!", "Hey, your imaginary file has been deleted !!", "success");
                }
            );
        });
        $(".sweet-success-cancel").on('click', function(event){
            swal(
                {
                    title: "Are you sure to delete ?",
                    text: "You will not be able to recover this imaginary file !!",
                    type: "warning",
                    showCancelButton: !0,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, delete it !!",
                    cancelButtonText: "No, cancel it !!",
                    closeOnConfirm: !1,
                    closeOnCancel: !1,
                },
                function (e) {
                    e ? swal("Deleted !!", "Hey, your imaginary file has been deleted !!", "success") : swal("Cancelled !!", "Hey, your imaginary file is safe !!", "error");
                }
            );
        });
        $(".sweet-image-message").on('click', function(event){
            swal({ title: "Sweet !!", text: "Hey, Here's a custom image !!", imageUrl: "images/alert.gif" });
        });
        $(".sweet-html").on('click', function(event){
            swal({ title: "Sweet !!", text: "<span style='color:#ff0000'>Hey, you are using HTML !!<span>", html: !0 });
        });
        $(".sweet-auto").on('click', function(event){
            swal({ title: "Sweet auto close alert !!", text: "Hey, i will close in 2 seconds !!", timer: 2e3, showConfirmButton: !1 });
        });
        $(".sweet-prompt").on('click', function(event){
            swal({ title: "Enter an input !!", text: "Write something interesting !!", type: "input", showCancelButton: !0, closeOnConfirm: !1, animation: "slide-from-top", inputPlaceholder: "Write something" }, function (e) {
                return !1 !== e && ("" === e ? (swal.showInputError("You need to write something!"), !1) : void swal("Hey !!", "You wrote: " + e, "success"));
            });
        });
        $(".sweet-ajax").on('click', function(event){
            swal({ title: "Sweet ajax request !!", text: "Submit to run ajax request !!", type: "info", showCancelButton: !0, closeOnConfirm: !1, showLoaderOnConfirm: !0 }, function () {
                setTimeout(function () {
                    swal("Hey, your ajax request finished !!");
                }, 2e3);
            });
        });
    // Js for Sweet alert end
});

// -----------Js for Sweet alert start-----------
    // (document.querySelector(".sweet-wrong").onclick = function () {
    //     sweetAlert("Oops...", "Something went wrong !!", "error");
    // }),
    // (document.querySelector(".sweet-message").onclick = function () {
    //     swal("Hey, Here's a message !!");
    // }),
    // (document.querySelector(".sweet-text").onclick = function () {
    //     swal("Hey, Here's a message !!", "It's pretty, isn't it?");
    // }),
    // (document.querySelector(".sweet-success").onclick = function () {
    //     swal("Hey, Good job !!", "You clicked the button !!", "success");
    // }),
    // (document.querySelector(".sweet-confirm").onclick = function () {
    //     swal(
    //         {
    //             title: "Are you sure to delete ?",
    //             text: "You will not be able to recover this imaginary file !!",
    //             type: "warning",
    //             showCancelButton: !0,
    //             confirmButtonColor: "#DD6B55",
    //             confirmButtonText: "Yes, delete it !!",
    //             closeOnConfirm: !1,
    //         },
    //         function () {
    //             swal("Deleted !!", "Hey, your imaginary file has been deleted !!", "success");
    //         }
    //     );
    // }),
    // (document.querySelector(".sweet-success-cancel").onclick = function () {
    //     swal(
    //         {
    //             title: "Are you sure to delete ?",
    //             text: "You will not be able to recover this imaginary file !!",
    //             type: "warning",
    //             showCancelButton: !0,
    //             confirmButtonColor: "#DD6B55",
    //             confirmButtonText: "Yes, delete it !!",
    //             cancelButtonText: "No, cancel it !!",
    //             closeOnConfirm: !1,
    //             closeOnCancel: !1,
    //         },
    //         function (e) {
    //             e ? swal("Deleted !!", "Hey, your imaginary file has been deleted !!", "success") : swal("Cancelled !!", "Hey, your imaginary file is safe !!", "error");
    //         }
    //     );
    // }),
    // (document.querySelector(".sweet-image-message").onclick = function () {
    //     swal({ title: "Sweet !!", text: "Hey, Here's a custom image !!", imageUrl: "../assets/images/hand.jpg" });
    // }),
    // (document.querySelector(".sweet-html").onclick = function () {
    //     swal({ title: "Sweet !!", text: "<span style='color:#ff0000'>Hey, you are using HTML !!<span>", html: !0 });
    // }),
    // (document.querySelector(".sweet-auto").onclick = function () {
    //     swal({ title: "Sweet auto close alert !!", text: "Hey, i will close in 2 seconds !!", timer: 2e3, showConfirmButton: !1 });
    // }),
    // (document.querySelector(".sweet-prompt").onclick = function () {
    //     swal({ title: "Enter an input !!", text: "Write something interesting !!", type: "input", showCancelButton: !0, closeOnConfirm: !1, animation: "slide-from-top", inputPlaceholder: "Write something" }, function (e) {
    //         return !1 !== e && ("" === e ? (swal.showInputError("You need to write something!"), !1) : void swal("Hey !!", "You wrote: " + e, "success"));
    //     });
    // }),
    // (document.querySelector(".sweet-ajax").onclick = function () {
    //     swal({ title: "Sweet ajax request !!", text: "Submit to run ajax request !!", type: "info", showCancelButton: !0, closeOnConfirm: !1, showLoaderOnConfirm: !0 }, function () {
    //         setTimeout(function () {
    //             swal("Hey, your ajax request finished !!");
    //         }, 2e3);
    //     });
    // });
// Js for Sweet alert end

// swapan start


$(function () 
{                
    $("#login_form").validationEngine();
    $("#change_password").validationEngine();
});

function toggleShowPassword()
{
    var x = document.getElementById("password");
    var imgsrc = document.getElementById("showicon");
    if (x.type === "password") 
    {
        $('#showicon').removeClass('fa fa-eye-slash');
        $('#showicon').addClass('fa fa-eye');
        x.type = "text";                    
    } 
    else 
    {
        $('#showicon').removeClass('fa fa-eye');
        $('#showicon').addClass('fa fa-eye-slash');
        x.type = "password";                    
    }
}

function toggleShowPassword1()
{
    var x = document.getElementById("current_password");
    var imgsrc = document.getElementById("showicon1");
    if (x.type === "password") 
    {
        $('#showicon1').removeClass('fa fa-eye-slash');
        $('#showicon1').addClass('fa fa-eye');
        x.type = "text";                    
    } 
    else 
    {
        $('#showicon').removeClass('fa fa-eye');
        $('#showicon').addClass('fa fa-eye-slash');
        x.type = "password";                    
    }
}

function toggleShowPassword2()
{
    var x = document.getElementById("confrim_password");
    var imgsrc = document.getElementById("showicon2");
    if (x.type === "password") 
    {
        $('#showicon2').removeClass('fa fa-eye-slash');
        $('#showicon2').addClass('fa fa-eye');
        x.type = "text";                    
    } 
    else 
    {
        $('#showicon2').removeClass('fa fa-eye');
        $('#showicon2').addClass('fa fa-eye-slash');
        x.type = "password";                    
    }
}
function common_status_change(transid,url) 
{  
    var uniqcode=transid;
    //alert(uniqcode);
     //alert(url);
    var uniqcode = uniqcode.replace(/ /g,'');
    var current_url=$('#current_url').val()
     $.ajax({                
        type:'post',                
        url:current_url+url,
        data: {                    
            uniqcode: uniqcode,                    
        },                
        success:function(data){  
           $("#edit").html(data);
         //  toastr_msg(data);                                                          
        }

     });   

}
function delete_action(transid,url) 
{  
    var uniqcode=transid;
     //alert(uniqcode);
     var a = confirm("Are you sure delete this ?");
     //alert(a);
    if(a)
    {
     var uniqcode = uniqcode.replace(/ /g,'');
     var current_url=$('#current_url').val()
      $.ajax({                
        type:'post',                
        url:current_url+url,
        data:{                    
            uniqcode:uniqcode                    
        },                
        success:function(data){  
           $("#edit").html(data);
        // alert(data);                                                                     
        }

      });
    }   

}



$(document).ready(function() 
{            
    var elems = document.querySelectorAll('.js-switch');                
    for (var i = 0; i < elems.length; i++) {
       
        var switchery = new Switchery(elems[i], { color: '#1AB394', secondaryColor: '#ED5565', jackColor: '#ffffff', jackSecondaryColor: '#ffffff' });
    }                        

    var d1 = [[1262304000000, 6], [1264982400000, 3057], [1267401600000, 20434], [1270080000000, 31982], [1272672000000, 26602], [1275350400000, 27826], [1277942400000, 24302], [1280620800000, 24237], [1283299200000, 21004], [1285891200000, 12144], [1288569600000, 10577], [1291161600000, 10295]];
    var d2 = [[1262304000000, 5], [1264982400000, 200], [1267401600000, 1605], [1270080000000, 6129], [1272672000000, 11643], [1275350400000, 19055], [1277942400000, 30062], [1280620800000, 39197], [1283299200000, 37000], [1285891200000, 27000], [1288569600000, 21000], [1291161600000, 17000]];

    var data1 = [
        { label: "Data 1", data: d1, color: '#17a084'},
        { label: "Data 2", data: d2, color: '#127e68' }
    ];
}); 
function edit_action(transid,url) 
{
       //alert(uniqcode);

       var transid=transid;
       var value=$("#get_action_val_"+transid).val();
           // $("#get_action_val_"+transid).val('');
            edit_data(transid,url);        
}
function edit_data(transid,url) 
{
        $('html, body').animate({
            scrollTop: 0
         }, 'slow');
        var transid=transid;                        
        var current_url=$('#current_url').val()                                                
        // $('#edit-data').modal('show');
        // alert(current_url);
         $.ajax({
            type:'POST',
            url:current_url+url,
            data: {
                uniqcode: transid
            },
            
            success:function(data){
                // alert(data);
                if(data==1){
                    location.reload();
                }else{
                    $("#edit_data").html(data); 
                   
                }
                
            }
         });
    
}
function edit_action_logo(transid,url) 
{
       //alert(uniqcode);

       var transid=transid;
       var value=$("#get_action_val_"+transid).val();
           // $("#get_action_val_"+transid).val('');
            edit_data_logo(transid,url);        
}
function edit_data_logo(transid,url) 
{
        $('html, body').animate({
            scrollTop: 0
         }, 'slow');
        var transid=transid;                        
        var current_url=$('#current_url').val()                                                
        // $('#edit-data').modal('show');
        // alert(current_url);
         $.ajax({
            type:'POST',
            url:current_url+url,
            data: {
                uniqcode: transid
            },
            
            success:function(data){
                // alert(data);
                if(data==1){
                    location.reload();
                }else{
                    $("#edit_image_data").html(data); 
                   
                }
                
            }
         });
    
}
function get_upload(x) 
{
    $("#"+x).trigger("click"); 
}
function show_photo(input, x,x2) 
{
    if (input.files && input.files[0]) {
    var reader = new FileReader();
    var FileSize = input.files[0].size / 1024 / 1024; // in MB
        var FileType = input.files[0].type;
        var ext = $('#'+x).val().split('.').pop().toLowerCase();
        if($.inArray(ext, ['JPEG','PNG','JPG','png','jpg','jpeg']) == -1) {
            alert('invalid extension!');
            $('#'+x).val('');
        }else{
        
    if(FileSize < 1){
    reader.onload = function (e) {
    $('#'+x2)
    .attr('src', e.target.result)
    .width(100)
    .height(100);
    };
    reader.readAsDataURL(input.files[0]);
    }else{
        //
        alert('Maximum file size 1MB can be upload');
        $(input).val('');
    }
    } 
    }
}
function checkfile(inputfileid)
{
    if( document.getElementById(inputfileid).files.length == 0)
    {
        $('html, body').animate({scrollTop: 0}, 'slow');
        $("#image_required").show();
        $(".save_submit").attr('type','button');
        return false;
    }
    else
    {

        $("#image_required").hide();
        $(".save_submit").attr('type','submit');
        return true;
    }
}

function toastr_msg(msg)
{
    toastr.success(msg,"",
    {
        positionClass:"toast-bottom-full-width",
        timeOut:5e3,closeButton:!0,debug:!1,
        newestOnTop:!0,progressBar:!0,
        preventDuplicates:!0,onclick:null,
        showDuration:"300",hideDuration:"1000",
        extendedTimeOut:"1000",showEasing:"swing",
        hideEasing:"linear",showMethod:"fadeIn",
        hideMethod:"fadeOut",tapToDismiss:!1
    });
}
 function read_more() {
  var dots = document.getElementById("dots");
  var moreText = document.getElementById("more");
  var btnText = document.getElementById("myBtn");

  if (dots.style.display === "none") {
    dots.style.display = "inline";
    btnText.innerHTML = "Read more"; 
    moreText.style.display = "none";
  } else {
    dots.style.display = "none";
    btnText.innerHTML = "Read less"; 
    moreText.style.display = "inline";
  }
}



    

